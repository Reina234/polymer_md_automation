gro_file = title_line NEWLINE atom_count NEWLINE atom_lines box_dimensions ;

title_line = /.+/ ;                     // Any non-empty line
atom_count = INTEGER ;                  // Number of atoms
atom_lines = (atom_line NEWLINE)+ ;     // One or more atom lines
box_dimensions = float (space float)? (space float)? ;

atom_line = residue_number residue_name atom_name atom_number x y z [vx vy vz] ;

residue_number = INTEGER ;              // Fixed-width: 5 characters
residue_name = /[A-Za-z]+/ ;            // Fixed-width: 5 characters
atom_name = /[A-Za-z]+/ ;               // Fixed-width: 5 characters
atom_number = INTEGER ;                 // Fixed-width: 5 characters
x = float ;                             // Fixed-width: 8 characters
y = float ;                             // Fixed-width: 8 characters
z = float ;                             // Fixed-width: 8 characters
vx = float ;                            // Optional velocities
vy = float ;
vz = float ;

float = /-?[0-9]+(\.[0-9]+)?/ ;         // Matches floating-point numbers
space = /\s+/ ;                         // Whitespace
NEWLINE = /\n+/ ;                       // Newline character(s)
INTEGER = /[0-9]+/ ;                    // Integer
